<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake Shopping</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js">

    </script>

 </head>
 
<body>

    <div class="container bg-primary mt-3 p-1">
        <span class="fs-1">Shopping</span>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <label for="ctgry" class="form-label mt-3"> <b>Categories</b></label>
                <select name="ctgry" id="ctgry" class="form-select ">
                    
                </select>
            </div>
            <div class="col-md-9 mt-4" > 
                <div class="row" id="prdts"  style="row-gap: 30px;">
                   
                </div> 
            </div>
           
        </div>
    </div>
    
    <script>
        $(function(){ 
           fetch("https://fakestoreapi.com/products/categories").then(function(res){
                return res.json();
           }).then(function(data){
                var ct  = $("#ctgry");
                var opt = $("<option>");
                    opt.text("All");
                    opt.attr("value","All");
                    ct.append(opt);

            for (let c of data){
                ct.append($("<option>").text(c).attr("value",c));
            } 
           })
           fetch('https://fakestoreapi.com/products').then(function(res){
            return res.json();
           }).then(function(prod){
            var pt_itm = prod;
            var ctnt = $("#prdts");
           
            for (let itm of pt_itm ){ 
                
                 var t_trm =itm.title.substring(0,11);
                var grid_cnt = $('<div>').addClass("col-md-4"); 
            grid_cnt.html(`
                <div class="card" >
                     <div class="card-image"><img src="${itm.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                        <div class="card-footer">  ${t_trm} <br>
                                Price : ${itm.price} <br> 
                                Rating :  ${itm.rating.rate} <br>
                                RCount : ${itm.rating.count} <br>
                            </div>
                    </div>
                  `
            );
            ctnt.append(grid_cnt);
            }
           });
        })
        

        // For Selected products
       
        $("#ctgry").change(function(){
            // Electronics
           var s_itm = $("#ctgry").val();
           if( s_itm == "electronics"){
            $("#prdts").html("")
            fetch("https://fakestoreapi.com/products/category/electronics").then(function(res){
                return res.json();
           }).then(function(e){
                var e_obj = e;
                var ctnt = $("#prdts");
               for(let obj of e_obj){
                var trm = obj.title.substring(0,11);
                var g_cnt = $('<div>').addClass("col-md-4");
                    g_cnt.html(`
                    <div class="card" >
                      <div class="card-image"><img src="${obj.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                        <div class="card-footer">  ${trm} <br>
                                Price : ${obj.price} <br> 
                                Rating :  ${obj.rating.rate} <br>
                                RCount : ${obj.rating.count} <br>
                            </div>
                    </div>
                    `);
                    ctnt.append(g_cnt);
               }
            })
                }
                // jewelery
                else if (s_itm == "jewelery" ){
                    $("#prdts").html("")
                    fetch("https://fakestoreapi.com/products/category/jewelery").then(function(res){
                        return res.json();
                }).then(function(e){
                        var e_obj = e;
                        var ctnt = $("#prdts");
                    for(let obj of e_obj){
                        var trm = obj.title.substring(0,11);
                        var g_cnt = $('<div>').addClass("col-md-4");
                            g_cnt.html(`
                            <div class="card" >
                            <div class="card-image"><img src="${obj.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                                <div class="card-footer">  ${trm} <br>
                                        Price : ${obj.price} <br> 
                                        Rating :  ${obj.rating.rate} <br>
                                        RCount : ${obj.rating.count} <br>
                                    </div>
                            </div>
                            `);
                            ctnt.append(g_cnt);
                    }
                    })
                }
                // Mens clothing
                else if (s_itm == "men's clothing" ){
                    $("#prdts").html("")
                    fetch("https://fakestoreapi.com/products/category/men's clothing").then(function(res){
                        return res.json();
                }).then(function(e){
                        var e_obj = e;
                        var ctnt = $("#prdts");
                    for(let obj of e_obj){
                        var trm = obj.title.substring(0,11);
                        var g_cnt = $('<div>').addClass("col-md-4");
                            g_cnt.html(`
                            <div class="card" >
                            <div class="card-image"><img src="${obj.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                                <div class="card-footer">  ${trm} <br>
                                        Price : ${obj.price} <br> 
                                        Rating :  ${obj.rating.rate} <br>
                                        RCount : ${obj.rating.count} <br>
                                    </div>
                            </div>
                            `);
                            ctnt.append(g_cnt);
                    }
                    })
                }
                // Womens Clothing
                else if(s_itm == "women's clothing"){
                    $("#prdts").html("")
                    fetch("https://fakestoreapi.com/products/category/women's clothing").then(function(res){
                        return res.json();
                }).then(function(e){
                        var e_obj = e;
                        var ctnt = $("#prdts");
                    for(let obj of e_obj){
                        var trm = obj.title.substring(0,11);
                        var g_cnt = $('<div>').addClass("col-md-4");
                            g_cnt.html(`
                            <div class="card" >
                            <div class="card-image"><img src="${obj.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                                <div class="card-footer">  ${trm} <br>
                                        Price : ${obj.price} <br> 
                                        Rating :  ${obj.rating.rate} <br>
                                        RCount : ${obj.rating.count} <br>
                                    </div>
                            </div>
                            `);
                            ctnt.append(g_cnt);
                         }
                        });
                        }
                        else{
                            $("#prdts").html("")
                            fetch('https://fakestoreapi.com/products').then(function(res){
                                return res.json();
                            }).then(function(prod){
                                var pt_itm = prod;
                                var ctnt = $("#prdts");
                            
                                for (let itm of pt_itm ){ 
                                    
                                    var t_trm =itm.title.substring(0,11);
                                    var grid_cnt = $('<div>').addClass("col-md-4"); 
                                grid_cnt.html(`
                                    <div class="card" >
                                        <div class="card-image"><img src="${itm.image}" alt="" class = "w-100 p-5 " style = "height: 350px;"></div>
                                            <div class="card-footer">  ${t_trm} <br>
                                                    Price : ${itm.price} <br> 
                                                    Rating :  ${itm.rating.rate} <br>
                                                    RCount : ${itm.rating.count} <br>
                                                </div>
                                        </div>
                                                            `
                                    );
                                    ctnt.append(grid_cnt);
                                    }
                                });
                        }

    });
    
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>